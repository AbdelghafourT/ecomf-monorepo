<div class="row mt-3">
    <div class="col-md-12">
        <ol class="breadcrumb" >
            <li class="breadcrumb-item "><a class="st" routerLink="/admin">Dashboard</a></li>
            <li class="breadcrumb-item active">All Orders</li>
          </ol>
    </div>
</div>
<div class="row mt-3">
    <div class="col-md-12 shadow-sm p-3 mb-5 bg-body rounded">
        <!-- <div class="d-flex justify-content-start mb-2">
            <p style="font-size:large;font-weight:bold;">Orders<span class="text-muted" style="font-size: x-small;" > {{Orders.length}}</span></p>
        </div> -->
        <div class="d-flex justify-content-between mb-2">
          <div>
            <p style="font-size:large;font-weight:bold;">Orders<span class="text-muted" style="font-size: x-small;" > {{Orders.length}}</span></p>
          </div>
          <div>
            <button routerLink="/admin/newOrder" class="btn btn-primary mx-3 ">Add New Order</button>
          </div>
        </div>
        <table class="table align-middle mb-0 bg-white">
            <thead class="bg-light">
              <tr>
                <th>Order Id</th>
                <th>Customer</th>
                <th>Address</th>
                <th>Total</th>
                <th>status</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let order of Orders">
                <td>
                  <p class="fw-normal mb-1">{{order?._id}}</p>
                </td>
                <td>
                    <ng-container *ngFor="let userorder of order.user | keyvalue">
                      <p class="fw-normal mb-1" *ngIf="userorder.key==='name'">{{userorder.value}}</p>
                    </ng-container>
                </td>
                <td>
                  <p class="fw-normal mb-1">{{order?.shippingAddress}}</p>
                </td>
                <td>
                  <span class="fw-normal mb-1" >{{order.total | currency}}</span>
                </td>
                <td>
                  <button 
                    (click)="toggleStatus(order)" [ngClass]="getStatusClass(order)" class="badge" >{{order.status}} 
                  </button>
                </td>
                <td class="align-middle">
                    <a data-mdb-toggle="tooltip" (click)="onRefundOrder(order)"  title="Remove">
                      <i class="fa fa-trash text-danger" aria-hidden="true"></i>
                    </a>
                  </td>
              </tr>
            </tbody>
          </table>
    </div>
</div>